---
title: "Untitled"
author: "Andreas Blaette"
date: "14 Juli 2017"
output: html_document
---

```{r}
library(gles)
data(bt2013)
dim(bt2013)
colnames(bt2013)
View(bt2013)
questionnaire("bt2013")
```

Anlegen einer Untertabelle
--------------------------

Unser Ziel ist zunächst, eine Untertabelle anzulegen, mit der man
besser arbeiten kann.

```{r}
cols_to_get <- c(
  geburtsjahr = "vn2c",
  geschlecht = "vn1",
  parteiwahl = "v11aa",
  bild = "v104",
  faz = "v105",
  nettoeinkommen = "vn215"
)
bt2013sub <- bt2013[, cols_to_get]
colnames(bt2013sub) <- names(cols_to_get)
```

Jetzt können wir zur eigentlichen Analyse kommen.

```{r}
bt2013sub[,"geburtsjahr"]
bt2013sub[,"alter"] <- 2013 - bt2013sub[,"geburtsjahr"]
age <- table(bt2013sub[,"alter"])
barplot(height = age, las = 2)

bt2013sub[,"nettoeinkommen"]
netto <- bt2013sub[,"nettoeinkommen"]
netto_char <- as.character(netto)
netto_lower <- as.numeric(gsub("^(\\d+).*$", "\\1", netto_char))
```